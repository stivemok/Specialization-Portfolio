{% extends "base.html" %}

{% block content %}
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
        
            <!-- <h1>Admin Dashboard</h1> -->
            <!-- <h2 style="margin-left: 20px ;">Welcome, Admin!</h2>
            <p style="margin-left: 50px;">From this dashboard, you can manage user accounts, inventory, orders, website content and track vehicles for Easy Car Rental.</p> -->
       
    <div class="container">
        <div class="content">
            <h1>Admin Dashboard</h1>
            <h2 class="collapsible">Manage User Accounts</h2>
            <ul class="content-list">
                <li><a href="{{ url_for('register') }}">Create a new user account</a></li>
                <li><a href="update_user.html">Update an existing user account</a></li>
                <li><a href="{{ url_for('users') }}">Delete a user account</a></li>
            </ul>

            <h2 class="collapsible">Manage Inventory</h2>
            <ul class="content-list">
                <li><a href="{{ url_for('AddCar') }}">add car</a></li>
                <li><a href="{{ url_for('UserInfo') }}">user info</a></li>
                <li><a href="{{ url_for('remove_car') }}">remove car</a></li>
                <li><a href="{{ url_for('UpdateCar') }}">update car</a></li>
                <li><a href="{{ url_for('vehicle_count') }}">number of vehicles</a></li>

            </ul>

            <h2 class="collapsible">Manage Orders</h2>
            <ul class="content-list">
                <li><a href="{{ url_for('BookedVehicle') }}">BookedVehicle</a></li>
                <li><a href="update_order.html">Update an order</a></li>
                <li><a href="cancel_order.html">Cancel an order</a></li>
            </ul>

            <h2 class="collapsible">Track Vehicles</h2>
            <ul class="content-list">
                <li><a href="http://www.sinotracking.com/app/index.html?v=20231212014645">Sino Track</a></li>
                <li><a href="https://en.aika168.com/login.aspx?language=en-us">AIKA Gps</a></li>
            </ul>

            <h2 class="collapsible">Manage Website Content</h2>
            <ul class="content-list">
                <li><a href="add_page.html">Add a new page to the website</a></li>
                <li><a href="update_page.html">Update an existing page on the website</a></li>
                <li><a href="remove_page.html">Remove a page from the website</a></li>
            </ul>
        </div>
        <div class="content1">
            <div class="dashbord1">
                <div class="d1">
                    <h1>Total Users</h1>
                        <p >Total Users::{{user_count}}</p>
                </div>
                <div class="d2">
                    <h1 style="color: white;">Total Vehicles</h1>
                        <p >Total Vehicles::{{total_cars}}</p>
                </div>
                <div class="d3">
                    <h1 style="color: white;">Testing</h1>
                        <p >Testing</p>
                </div>
            </div>
            <div class="dashboard2">
            {% for graphJSON in graphs %}
            <div class="graph-container">
                <div class="graph" id="graph{{ loop.index }}"></div>
            <script>
                var graph = {{ graphJSON | safe }};
                Plotly.newPlot('graph{{ loop.index }}', graph.data, graph.layout);
            </script>
            </div>
             {% endfor %}
            </div>
          
        </div>
    </div>
    <style>
         .container {
            display: flex;
            width: 100%;
        }
        .content {
            margin-left: 1%;
            border: 1px;
            width: 15%;
            padding: 20px;
            background-color: #68A5BD;
            height: 100vh;
        }
        .content1 {
            text-align: center;
            position: center;
        }
        .dashbord1 :hover{
            transform: scaleY(1.1)
        }
        .dashbord1 {
            display: flex;
            margin-top: 10px;
            /* width: 100%;
            justify-content: space-around; */
            justify-content: space-between;
            width: 100vh;
        }
        .dashbord1 h1{
            margin: 20 px;
            padding: 10px;
            font-size: 15px;
            font-family: 'Exo', sans-serif;
        }
        .d1{
            background-color: #FCA94C;
            margin-left : 20px;
            width: 100%;
        }
        .d2{
            background-color:#A78A6A;
            color: white;
            margin-left : 20px;
            width: 100%;
        }
        .d3{
            background-color: #64767D;
            color: white;
            margin-left : 20px;
            width: 100%;
        }
        .dashbord2{
            display: flex;
            width: 100vh;
            /* justify-content: space-between; */
        }
        /* .graph{
            width: 25%;
        } */
        .graph-container{
            width: 100%;
        }
        .sidebar {
            width: 10%;
            padding: 20px;
            background-color: #f1f1f1;
        }
        .collapsible {
            cursor: pointer;
            font-size: 15px;
        }
        .collapsible:hover{
            background-color: blueviolet;
            padding: 10px;
            border-radius: 10px;
        }

        .content-list {
            list-style-type: none;
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.2s ease-out;
        }
        .active {
            color: blue;
        }
    </style>

    <script>
        var collapsibles = document.querySelectorAll('.collapsible');
        collapsibles.forEach(function(collapsible) {
            collapsible.addEventListener('click', function() {
                this.classList.toggle('active');
                var contentList = this.nextElementSibling;
                if (contentList.style.maxHeight) {
                    contentList.style.maxHeight = null;
                } else {
                    contentList.style.maxHeight = contentList.scrollHeight + 'px';
                }
            });
        });
        
    </script>
{% endblock %}